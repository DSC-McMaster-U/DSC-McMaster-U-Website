{"version":3,"file":"BuildStandardLogEntry.esm.js","sources":["../../../../src/components/BuildLogs/BuildStandardLogEntry.tsx"],"sourcesContent":["/** @jsx jsx */\nimport { jsx } from \"@emotion/core\"\nimport { MdCheck, MdClose, MdWarning } from \"react-icons/md\"\nimport { BuildLogItem, StructuredLogLevel } from \"./types\"\nimport { ThemeCss } from \"../../theme\"\nimport { FormattedLogMessage } from \"./FormattedLogMessage\"\nimport { BuildLogEntrySkeleton } from \"./BuildLogEntrySkeleton\"\n\nconst baseCss: ThemeCss = theme => ({\n  [theme.mediaQueries.tablet]: {\n    paddingRight: theme.space[10],\n  },\n})\n\nconst messageCss: ThemeCss = theme => ({\n  // Necessary to set min-width to 0 so that the message does not overflow the row\n  minWidth: 0,\n  gridColumn: `2 span`,\n\n  [theme.mediaQueries.tablet]: {\n    gridColumn: `3 span`,\n  },\n})\n\nexport type BuildStandardLogEntryProps = Pick<\n  BuildLogItem,\n  \"level\" | \"message\" | \"context\" | \"filePath\"\n> & {}\n\nexport function BuildStandardLogEntry({\n  level,\n  message,\n  context,\n  filePath,\n}: BuildStandardLogEntryProps) {\n  const displayMessage =\n    context && context.stageLabel\n      ? `${context.stageLabel} failed at ${filePath}`\n      : message\n\n  return (\n    <BuildLogEntrySkeleton\n      icon={<LogEntryStatusIcon logLevel={level} />}\n      css={baseCss}\n    >\n      <FormattedLogMessage\n        message={displayMessage}\n        level={level}\n        css={messageCss}\n      />\n    </BuildLogEntrySkeleton>\n  )\n}\n\ntype LogEntryStatusIconProps = {\n  logLevel?: StructuredLogLevel | null\n}\n\nfunction LogEntryStatusIcon({ logLevel }: LogEntryStatusIconProps) {\n  const statusVariant = logLevel ? logEntryStatusVariants[logLevel] : null\n\n  if (!statusVariant) {\n    return null\n  }\n\n  return (\n    <statusVariant.Icon\n      aria-label={statusVariant && statusVariant.label}\n      css={statusVariant.styles}\n    />\n  )\n}\n\nconst logEntryStatusVariants: Partial<Record<\n  StructuredLogLevel,\n  {\n    label: string\n    Icon: React.ComponentType\n    styles: ThemeCss\n  }\n>> = {\n  [StructuredLogLevel.Success]: {\n    label: `Completed`,\n    Icon: MdCheck,\n    styles: theme => ({\n      color: theme.colors.grey[40],\n    }),\n  },\n  [StructuredLogLevel.Error]: {\n    label: `Failed`,\n    Icon: MdClose,\n    styles: theme => ({\n      color: theme.colors.red[60],\n    }),\n  },\n  [StructuredLogLevel.Warning]: {\n    label: `Warning`,\n    Icon: MdWarning,\n    styles: theme => ({\n      color: theme.colors.yellow[90],\n    }),\n  },\n}\n"],"names":["baseCss","theme","mediaQueries","tablet","paddingRight","space","messageCss","minWidth","gridColumn","BuildStandardLogEntry","level","message","context","filePath","displayMessage","stageLabel","LogEntryStatusIcon","logLevel","statusVariant","logEntryStatusVariants","label","styles","StructuredLogLevel","Success","Icon","MdCheck","color","colors","grey","Error","MdClose","red","Warning","MdWarning","yellow"],"mappings":";;;;;;;;;AAQA,IAAMA,OAAiB,GAAG,SAApBA,OAAoB,CAAAC,KAAK;AAAA,6BAC5BA,KAAK,CAACC,YAAN,CAAmBC,MADS,EACA;AAC3BC,IAAAA,YAAY,EAAEH,KAAK,CAACI,KAAN,CAAY,EAAZ;AADa,GADA;AAAA,CAA/B;;AAMA,IAAMC,UAAoB,GAAG,SAAvBA,UAAuB,CAAAL,KAAK;AAAA;AAChC;AACAM,IAAAA,QAAQ,EAAE,CAFsB;AAGhCC,IAAAA,UAAU;AAHsB,KAK/BP,KAAK,CAACC,YAAN,CAAmBC,MALY,EAKH;AAC3BK,IAAAA,UAAU;AADiB,GALG;AAAA,CAAlC;;AAeO,SAASC,qBAAT,QAKwB;AAAA,MAJ7BC,KAI6B,SAJ7BA,KAI6B;AAAA,MAH7BC,OAG6B,SAH7BA,OAG6B;AAAA,MAF7BC,OAE6B,SAF7BA,OAE6B;AAAA,MAD7BC,QAC6B,SAD7BA,QAC6B;AAC7B,MAAMC,cAAc,GAClBF,OAAO,IAAIA,OAAO,CAACG,UAAnB,aACOH,OAAO,CAACG,UADf,wBACuCF,QADvC,IAEIF,OAHN;AAKA,SACE,IAAC,qBAAD;AACE,IAAA,IAAI,EAAE,IAAC,kBAAD;AAAoB,MAAA,QAAQ,EAAED;AAA9B,MADR;AAEE,IAAA,GAAG,EAAEV;AAFP,KAIE,IAAC,mBAAD;AACE,IAAA,OAAO,EAAEc,cADX;AAEE,IAAA,KAAK,EAAEJ,KAFT;AAGE,IAAA,GAAG,EAAEJ;AAHP,IAJF,CADF;AAYD;;AAMD,SAASU,kBAAT,QAAmE;AAAA,MAArCC,QAAqC,SAArCA,QAAqC;AACjE,MAAMC,aAAa,GAAGD,QAAQ,GAAGE,sBAAsB,CAACF,QAAD,CAAzB,GAAsC,IAApE;;AAEA,MAAI,CAACC,aAAL,EAAoB;AAClB,WAAO,IAAP;AACD;;AAED,SACE,IAAC,aAAD,CAAe,IAAf;AACE,kBAAYA,aAAa,IAAIA,aAAa,CAACE,KAD7C;AAEE,IAAA,GAAG,EAAEF,aAAa,CAACG;AAFrB,IADF;AAMD;;AAED,IAAMF,sBAOJ,uEACCG,kBAAkB,CAACC,OADpB,EAC8B;AAC5BH,EAAAA,KAAK,aADuB;AAE5BI,EAAAA,IAAI,EAAEC,OAFsB;AAG5BJ,EAAAA,MAAM,EAAE,gBAAApB,KAAK;AAAA,WAAK;AAChByB,MAAAA,KAAK,EAAEzB,KAAK,CAAC0B,MAAN,CAAaC,IAAb,CAAkB,EAAlB;AADS,KAAL;AAAA;AAHe,CAD9B,0CAQCN,kBAAkB,CAACO,KARpB,EAQ4B;AAC1BT,EAAAA,KAAK,UADqB;AAE1BI,EAAAA,IAAI,EAAEM,OAFoB;AAG1BT,EAAAA,MAAM,EAAE,gBAAApB,KAAK;AAAA,WAAK;AAChByB,MAAAA,KAAK,EAAEzB,KAAK,CAAC0B,MAAN,CAAaI,GAAb,CAAiB,EAAjB;AADS,KAAL;AAAA;AAHa,CAR5B,0CAeCT,kBAAkB,CAACU,OAfpB,EAe8B;AAC5BZ,EAAAA,KAAK,WADuB;AAE5BI,EAAAA,IAAI,EAAES,SAFsB;AAG5BZ,EAAAA,MAAM,EAAE,gBAAApB,KAAK;AAAA,WAAK;AAChByB,MAAAA,KAAK,EAAEzB,KAAK,CAAC0B,MAAN,CAAaO,MAAb,CAAoB,EAApB;AADS,KAAL;AAAA;AAHe,CAf9B,yBAPF;;;;;;;;;;;;;;;;;"}