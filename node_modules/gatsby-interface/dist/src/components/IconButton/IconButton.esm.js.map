{"version":3,"file":"IconButton.esm.js","sources":["../../../../src/components/IconButton/IconButton.tsx"],"sourcesContent":["/** @jsx jsx */\nimport { jsx } from \"@emotion/core\"\nimport React from \"react\"\nimport { ThemeCss } from \"../../theme\"\nimport { ButtonStyleProps, getButtonStyles } from \"../Button\"\nimport { BaseButton, BaseButtonProps } from \"../BaseButton\"\nimport { visuallyHiddenCss } from \"../../stylesheets/a11y\"\nimport { ButtonSize } from \"../../theme/styles/button\"\nimport { BaseAnchor, BaseAnchorProps } from \"../BaseAnchor\"\nimport { BaseLinkProps, BaseLink } from \"../BaseLink\"\n\nconst baseCss: ThemeCss = _theme => ({\n  paddingLeft: 0,\n  paddingRight: 0,\n  paddingTop: 0,\n  paddingBottom: 0,\n  // override default styles from getButtonStyles\n  svg: {\n    margin: 0,\n  },\n})\n\nconst iconSizeStyles: Record<ButtonSize, ThemeCss> = {\n  S: theme => ({\n    fontSize: theme.fontSizes[2],\n  }),\n  M: theme => ({\n    fontSize: theme.fontSizes[4],\n  }),\n  L: theme => ({\n    fontSize: theme.fontSizes[5],\n  }),\n  XL: theme => ({\n    fontSize: theme.fontSizes[7],\n  }),\n}\n\ntype IconButtonCommonProps = Omit<\n  ButtonStyleProps,\n  \"rightIcon\" | \"leftIcon\" | \"textVariant\" | \"size\"\n> & {\n  icon: React.ReactNode\n  children: React.ReactNode\n  size?: ButtonSize\n}\n\ntype WithIconButtonProps<T> = Omit<T, \"children\"> & IconButtonCommonProps\n\ntype IconButtonLabelProps = {\n  icon: React.ReactNode\n  children: React.ReactNode\n}\n\nfunction IconButtonLabel({ icon, children }: IconButtonLabelProps) {\n  return (\n    <React.Fragment>\n      <span css={visuallyHiddenCss}>{children}</span>\n      {icon}\n    </React.Fragment>\n  )\n}\n\nexport type IconButtonProps = WithIconButtonProps<\n  Omit<BaseButtonProps, \"loading\" | \"LoadingIcon\" | \"loadingLabel\">\n>\n\nexport const IconButton = React.forwardRef<HTMLButtonElement, IconButtonProps>(\n  function IconButton(props, ref) {\n    const { icon, children, size, tone, variant, ...rest } = props\n\n    const iconButtonProps = useIconButton({\n      icon,\n      children,\n      size,\n      tone,\n      variant,\n    })\n\n    return <BaseButton {...iconButtonProps} {...rest} ref={ref} />\n  }\n)\n\nexport type IconAnchorButtonProps = WithIconButtonProps<BaseAnchorProps>\n\nexport const IconAnchorButton = React.forwardRef<\n  HTMLAnchorElement,\n  IconAnchorButtonProps\n>(function IconAnchorButton(props, ref) {\n  const { icon, children, size, tone, variant, ...rest } = props\n\n  const iconButtonProps = useIconButton({\n    icon,\n    children,\n    size,\n    tone,\n    variant,\n  })\n\n  return <BaseAnchor {...iconButtonProps} {...rest} ref={ref} />\n})\n\nexport type IconLinkButtonProps = WithIconButtonProps<BaseLinkProps<any>>\n\nexport function IconLinkButton(props: IconLinkButtonProps) {\n  const { icon, children, size, tone, variant, ...rest } = props\n\n  const iconButtonProps = useIconButton({\n    icon,\n    children,\n    size,\n    tone,\n    variant,\n  })\n\n  return <BaseLink {...iconButtonProps} {...rest} />\n}\n\nexport function useIconButton({\n  icon,\n  children,\n  size = `L`,\n  tone,\n  variant,\n}: IconButtonCommonProps) {\n  const { css, ...styledButtonProps } = getButtonStyles({\n    children: <IconButtonLabel icon={icon}>{children}</IconButtonLabel>,\n    loading: false,\n    size,\n    tone,\n    variant,\n    leftIcon: null,\n    rightIcon: null,\n    textVariant: `DEFAULT`,\n  })\n\n  const finalCss: ThemeCss = theme => [\n    css(theme),\n    baseCss(theme),\n    iconSizeStyles[size](theme),\n  ]\n\n  return {\n    ...styledButtonProps,\n    css: finalCss,\n  }\n}\n"],"names":["baseCss","_theme","paddingLeft","paddingRight","paddingTop","paddingBottom","svg","margin","iconSizeStyles","S","theme","fontSize","fontSizes","M","L","XL","IconButtonLabel","icon","children","React","visuallyHiddenCss","IconButton","forwardRef","props","ref","size","tone","variant","rest","iconButtonProps","useIconButton","IconAnchorButton","IconLinkButton","getButtonStyles","loading","leftIcon","rightIcon","textVariant","css","styledButtonProps","finalCss"],"mappings":"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"}