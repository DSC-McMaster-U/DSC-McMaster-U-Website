{"version":3,"file":"useAriaFormField.esm.js","sources":["../../../../../src/components/form-skeletons/hooks/useAriaFormField.tsx"],"sourcesContent":["import { getHintId, getErrorId, getErrorAriaLiveAttribute } from \"../utils\"\nimport { ErrorValidationMode } from \"../types\"\n\nexport type AriaFormFieldData = {\n  controlProps: {\n    id: string\n    \"aria-describedby\": string | undefined\n    \"aria-invalid\": boolean\n    required: boolean\n  }\n  labelProps: {\n    htmlFor: string\n  }\n  hintProps: {\n    id: string\n    hidden: boolean\n  }\n  errorProps: {\n    id: string\n    hidden: boolean\n    \"aria-live\": `polite` | `assertive` | `off` | undefined\n  }\n}\n\nexport function useAriaFormField(\n  fieldId: string,\n  {\n    required = false,\n    hasError = false,\n    hasHint = false,\n    validationMode,\n  }: {\n    required?: boolean\n    hasError?: boolean\n    hasHint?: boolean\n    validationMode?: ErrorValidationMode\n  }\n): AriaFormFieldData {\n  const hintId = getHintId(fieldId)\n  const errorId = getErrorId(fieldId)\n  const controlDescribedBy =\n    [hasError && errorId, hasHint && hintId]\n      .filter(describedBy => describedBy)\n      .join(` `) || undefined\n\n  return {\n    controlProps: {\n      id: fieldId,\n      \"aria-describedby\": controlDescribedBy,\n      \"aria-invalid\": hasError,\n      required,\n    },\n    labelProps: {\n      htmlFor: fieldId,\n    },\n    hintProps: {\n      id: hintId,\n      hidden: !hasHint,\n    },\n    errorProps: {\n      id: errorId,\n      hidden: !hasError,\n      \"aria-live\": getErrorAriaLiveAttribute(validationMode),\n    },\n  }\n}\n"],"names":["useAriaFormField","fieldId","required","hasError","hasHint","validationMode","hintId","getHintId","errorId","getErrorId","controlDescribedBy","filter","describedBy","join","undefined","controlProps","id","labelProps","htmlFor","hintProps","hidden","errorProps","getErrorAriaLiveAttribute"],"mappings":";;AAwBO,SAASA,gBAAT,CACLC,OADK,QAac;AAAA,2BAVjBC,QAUiB;AAAA,MAVjBA,QAUiB,8BAVN,KAUM;AAAA,2BATjBC,QASiB;AAAA,MATjBA,QASiB,8BATN,KASM;AAAA,0BARjBC,OAQiB;AAAA,MARjBA,OAQiB,6BARP,KAQO;AAAA,MAPjBC,cAOiB,QAPjBA,cAOiB;AACnB,MAAMC,MAAM,GAAGC,SAAS,CAACN,OAAD,CAAxB;AACA,MAAMO,OAAO,GAAGC,UAAU,CAACR,OAAD,CAA1B;AACA,MAAMS,kBAAkB,GACtB,CAACP,QAAQ,IAAIK,OAAb,EAAsBJ,OAAO,IAAIE,MAAjC,EACGK,MADH,CACU,UAAAC,WAAW;AAAA,WAAIA,WAAJ;AAAA,GADrB,EAEGC,IAFH,SAEgBC,SAHlB;AAKA,SAAO;AACLC,IAAAA,YAAY,EAAE;AACZC,MAAAA,EAAE,EAAEf,OADQ;AAEZ,0BAAoBS,kBAFR;AAGZ,sBAAgBP,QAHJ;AAIZD,MAAAA,QAAQ,EAARA;AAJY,KADT;AAOLe,IAAAA,UAAU,EAAE;AACVC,MAAAA,OAAO,EAAEjB;AADC,KAPP;AAULkB,IAAAA,SAAS,EAAE;AACTH,MAAAA,EAAE,EAAEV,MADK;AAETc,MAAAA,MAAM,EAAE,CAAChB;AAFA,KAVN;AAcLiB,IAAAA,UAAU,EAAE;AACVL,MAAAA,EAAE,EAAER,OADM;AAEVY,MAAAA,MAAM,EAAE,CAACjB,QAFC;AAGV,mBAAamB,yBAAyB,CAACjB,cAAD;AAH5B;AAdP,GAAP;AAoBD;;;;"}